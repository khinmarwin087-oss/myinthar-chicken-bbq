<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üçó ·Äô·Äº·ÄÑ·Ä∫·Äû·Ä¨·ÄÄ·Äº·ÄÄ·Ä∫·ÄÄ·ÄÑ·Ä∫ POS</title>
    <link href="https://fonts.googleapis.com/css2?family=Pyidaungsu:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --pearl: #ffffff; --bg: #f1f5f9; --accent: #f59e0b; --text: #1e293b; --sub: #64748b; --danger: #ef4444; }
        body { font-family: 'Pyidaungsu', sans-serif; background: var(--bg); margin: 0; padding-bottom: 90px; color: var(--text); font-size: 14px; }

        /* Top Nav */
        .top-nav { background: var(--pearl); padding: 15px 12px; position: sticky; top: 0; z-index: 100; border-radius: 0 0 20px 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .top-nav h2 { font-size: 18px; margin: 0 0 10px; text-align: center; }
        .search-box { background: #f8fafc; border-radius: 10px; padding: 2px 10px; display: flex; align-items: center; border: 1px solid #e2e8f0; margin-bottom: 5px; }
        .search-box input { border: none; background: transparent; padding: 8px; width: 100%; outline: none; font-size: 12px; }
        .cat-row { display: flex; overflow-x: auto; gap: 6px; padding: 12px 0 2px; scrollbar-width: none; }
        .cat-btn { background: var(--pearl); border: 1px solid #e2e8f0; padding: 6px 14px; border-radius: 10px; white-space: nowrap; font-size: 12px; font-weight: bold; cursor: pointer; }
        .cat-btn.active { background: var(--accent); color: white; border-color: var(--accent); }

        /* Grid */
        .container { padding: 10px; max-width: 500px; margin: auto; }
        .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .card { background: var(--pearl); border-radius: 15px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.02); border: 1px solid #edf2f7; }
        .card-img { width: 100%; height: 100px; object-fit: cover; background: #eee; }
        .card-info { padding: 10px; text-align: center; }
        .item-name { font-weight: 700; font-size: 13px; display: block; height: 32px; margin-bottom: 4px; overflow: hidden; }
        .item-price { color: var(--accent); font-weight: 800; font-size: 14px; }
        .btn-add { width: 100%; padding: 8px; margin-top: 8px; border: none; background: #fff8eb; color: #b45309; border-radius: 10px; font-weight: bold; font-size: 12px; cursor: pointer; }

        /* Floating Bar */
        .cart-bar { position: fixed; bottom: 15px; left: 10px; right: 10px; background: #1e293b; color: white; padding: 12px 18px; border-radius: 18px; display: flex; justify-content: space-between; align-items: center; max-width: 480px; margin: auto; z-index: 90; }

        /* Modal & Cart Item */
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 200; backdrop-filter: blur(4px); }
        .modal-sheet { background: var(--pearl); position: absolute; bottom: 0; left: 0; right: 0; border-radius: 25px 25px 0 0; padding: 20px 15px; max-height: 85vh; overflow-y: auto; max-width: 500px; margin: auto; }
        .modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; }
        .back-btn { background: #f1f5f9; border: none; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }

        .cart-item { display: flex; align-items: center; gap: 10px; padding: 10px 0; border-bottom: 1px solid #f1f5f9; }
        .cart-item-img { width: 45px; height: 45px; border-radius: 8px; object-fit: cover; background: #f1f5f9; }
        .cart-item-info { flex: 1; min-width: 0; }
        .cart-item-info b { font-size: 20px; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .cart-item-info span { color: var(--accent); font-weight: bold; font-size: 12px; }

        /* Input Controls */
        .qty-group { display: flex; align-items: center; background: #f1f5f9; border-radius: 10px; padding: 2px; border: 1px solid #e2e8f0; }
        .btn-q { width: 28px; height: 28px; border: none; background: white; border-radius: 6px; font-weight: bold; cursor: pointer; }
        .val-q { width: 80px; border: none; background: transparent; text-align: center; font-weight: 800; font-size: 14px; outline: none; }
        .btn-del { color: var(--danger); background: #fff1f2; border: none; width: 32px; height: 32px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        /* Form Controls */
        .form-card { background: #f8fafc; border-radius: 18px; padding: 15px; border: 1px solid #e2e8f0; }
        label { font-size: 11px; font-weight: bold; color: var(--sub); margin-bottom: 5px; display: block; }
        input { width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 10px; margin-bottom: 12px; box-sizing: border-box; font-size: 14px; }
        .date-choices { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 12px; }
        .date-chip { background: white; border: 1px solid #cbd5e1; padding: 10px; border-radius: 10px; text-align: center; font-size: 13px; font-weight: bold; cursor: pointer; }
        .date-chip.active { background: #fff8eb; border-color: var(--accent); color: #b45309; }
        
        .btn-main { width: 100%; padding: 14px; background: var(--accent); color: white; border: none; border-radius: 15px; font-weight: 800; font-size: 15px; cursor: pointer; }
        .btn-s { border: none; padding: 12px; border-radius: 12px; color: white; font-weight: bold; width: 100%; margin-top: 10px; cursor: pointer; }
        .alert-pop { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; width: 80%; max-width: 300px; padding: 25px 20px; border-radius: 20px; z-index: 1000; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

<div class="top-nav">
    <h2>üçó ·Äô·Äº·ÄÑ·Ä∫·Äû·Ä¨·ÄÄ·Äº·ÄÄ·Ä∫·ÄÄ·ÄÑ·Ä∫</h2>
    <div class="search-box">
        <i class="fa-solid fa-magnifying-glass" style="color:#94a3b8; font-size: 12px;"></i>
        <input type="text" id="searchInput" placeholder="·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·Äõ·Äî·Ä∫..." onkeyup="renderMenu()">
    </div>
    <div class="cat-row">
        <div class="cat-btn active" onclick="filterCat('All', this)">·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏</div>
        <div class="cat-btn" onclick="filterCat('·Ä°·Äû·Ä¨·Ä∏', this)">·Ä°·Äû·Ä¨·Ä∏</div>
        <div class="cat-btn" onclick="filterCat('·Ä°·Äõ·Ä≠·ÄØ·Ä∏', this)">·Ä°·Äõ·Ä≠·ÄØ·Ä∏</div>
        <div class="cat-btn" onclick="filterCat('·ÄÄ·Äú·ÄÆ·ÄÖ·Ä¨', this)">·ÄÄ·Äú·ÄÆ·ÄÖ·Ä¨</div>
        <div class="cat-btn" onclick="filterCat('·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äõ·ÄΩ·ÄÄ·Ä∫', this)">·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äõ·ÄΩ·ÄÄ·Ä∫</div>
        <div class="cat-btn" onclick="filterCat('·Ä°·Äõ·Ä±·ÄÅ·ÄΩ·Ä∂', this)">·Ä°·Äõ·Ä±·ÄÅ·ÄΩ·Ä∂</div>
        <div class="cat-btn" onclick="filterCat('·Ä•', this)">·Ä•</div>
    </div>
</div>

<div class="container">
    <div id="grid-box" class="menu-grid"></div>
</div>

<div class="cart-bar" id="cart-bar" style="display: none;">
    <div>·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏: <b id="bar-total">0</b> Ks</div>
    <button style="background:var(--accent); border:none; color:white; padding:8px 16px; border-radius:10px; font-weight:800; font-size:13px;" onclick="openCart()">·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏ ‚ûî</button>
</div>

<div id="cart-sheet" class="overlay">
    <div class="modal-sheet">
        <div class="modal-header">
            <div style="display:flex; align-items:center;">
                <button class="back-btn" id="modal-back"><i class="fa-solid fa-arrow-left"></i></button>
                <h3 id="modal-title" style="margin:0 0 0 10px; font-size: 16px;">·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏</h3>
            </div>
            <span id="item-count-badge" style="background:#f1f5f9; padding:5px 12px; border-radius:12px; font-weight:bold; font-size:12px; color:var(--accent);">0 ·Äô·Äª·Ä≠·ÄØ·Ä∏</span>
        </div>
        
        <div id="cart-list"></div>

        <div id="form-box" style="display: none;">
            <div class="form-card">
                <label>üë§ ·Äù·Äö·Ä∫·Äû·Ä∞·Ä°·Äô·Ää·Ä∫</label>
                <input type="text" id="in-name" placeholder="·Ä°·Äô·Ää·Ä∫·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´">
                <label>üìû ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫</label>
                <input type="tel" id="in-phone" placeholder="·ÅÄ·Åâ...">
                <label>üìÖ ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤</label>
                <div class="date-choices">
                    <div class="date-chip active" id="chip-today" onclick="selectDate('today')">·Äí·ÄÆ·Äî·Ä±·Ä∑</div>
                    <div class="date-chip" id="chip-other" onclick="selectDate('other')">·Äê·ÄÅ·Äº·Ä¨·Ä∏·Äõ·ÄÄ·Ä∫</div>
                </div>
                <div id="custom-date-row" style="display:none;">
                    <label>üóìÔ∏è ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤</label>
                    <input type="date" id="in-date">
                </div>
                <label>üïí ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫</label>
                <input type="time" id="in-time">
                <div style="display:flex; gap:10px;">        
                    <button class="btn-s" style="background:#7360f2;" onclick="sendOrder('viber')"><i class="fa-brands fa-viber"></i> Viber</button>
                    <button class="btn-s" style="background:#0088cc;" onclick="sendOrder('tele')"><i class="fa-brands fa-telegram"></i> Telegram</button>
                </div>
            </div>
        </div>
        <button id="next-btn" class="btn-main" style="margin-top:20px;" onclick="step2()">·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Äê·ÄÑ·Ä∫·Äô·Ää·Ä∫ ‚ûî</button>
    </div>
</div>

<div id="alert-bg" class="overlay" style="z-index: 999;"></div>
<div id="alert-pop" class="alert-pop">
    <p id="alert-msg" style="font-weight:bold;"></p>
    <button class="btn-main" onclick="closeAlert()">·Äî·Ä¨·Ä∏·Äú·Ää·Ä∫·Äï·Ä´·Äï·Äº·ÄÆ</button>
</div>

<script>
    const MY_PHONE = "959767287345";
    const WEB_LINK = window.location.href;
    const BOT_TOKEN = "8215695761:AAF1qDjAJn7gjiHyzf8t7W6c8e51cim98sU";
    const CHAT_ID = "8116152317";

    const menuData = [
        { id: 1, name: '·ÄÄ·Äº·ÄÄ·Ä∫·Äï·Ä±·Ä´·ÄÑ·Ä∫', price: 4000, category: '·Ä°·Äû·Ä¨·Ä∏', image: 'https://i.ibb.co/JWsqDFX9/1768228481848.png' },
        { id: 2, name: '·ÄÄ·Äº·ÄÄ·Ä∫·Äõ·ÄÑ·Ä∫·Ä°·ÄØ·Ä∂', price: 4000, category: '·Ä°·Äû·Ä¨·Ä∏', image: '' },
        { id: 3, name: '·ÄÜ·Ä≠·Äê·Ä∫·Äû·Ä¨·Ä∏·ÄÄ·ÄÑ·Ä∫', price: 1500, category: '·Ä°·Äû·Ä¨·Ä∏', image: 'https://i.ibb.co/twQjTScV/IMG-20251231-003231.png' },
        { id: 4, name: '·Ä°·Äû·Ä¨·Ä∏ ·ÄÅ·Äª·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏(·ÄÄ·Äº·ÄÄ·Ä∫)', price: 800, category: '·Ä°·Äû·Ä¨·Ä∏', image: 'https://i.ibb.co/rRd5P91j/1767118697374.png' },
        { id: 5, name: '·Ä°·Äõ·Ä±·ÄÅ·ÄΩ·Ä∂', price: 500, category: '·Ä°·Äõ·Ä±·ÄÅ·ÄΩ·Ä∂', image: 'https://i.ibb.co/MkJqnDyG/1767147480724.png' },
        { id: 6, name: '·Ä°·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Äª·Ä∂', price: 500, category: '·Ä°·Äõ·Ä≠·ÄØ·Ä∏', image: 'https://i.ibb.co/rKJY26TM/1767147666947.png' },
        { id: 7, name: '·Ä°·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Äª·Ä∂ (CP)', price: 1000, category: '·Ä°·Äõ·Ä≠·ÄØ·Ä∏', image: '' },
        { id: 8, name: '·Ä°·Ä∞', price: 500, category: '·ÄÄ·Äú·ÄÆ·ÄÖ·Ä¨', image: '' },
        { id: 9, name: '·ÄÅ·Ä±·Ä´·ÄÑ·Ä∫·Ä∏', price: 300, category: '·Ä°·Äõ·Ä≠·ÄØ·Ä∏', image: '' },
        { id: 10, name: '·Äú·Ää·Ä∫ ·ÄÅ·Äª·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏', price: 300, category: '·Ä°·Äõ·Ä≠·ÄØ·Ä∏', image: 'https://i.ibb.co/bjL850PP/1768208169381.png' },
        { id: 11, name: '·Ä°·Äû·Ää·Ä∫·Ä∏·Äô·Äº·ÄÖ·Ä∫', price: 500, category: '·ÄÄ·Äú·ÄÆ·ÄÖ·Ä¨', image: 'https://i.ibb.co/twRsK5S7/1767147537379.png' },
        { id: 12, name: '·ÄÅ·Äº·Ä±·Äë·Ä±·Ä¨·ÄÄ·Ä∫', price: 300, category: '·Ä°·Äõ·Ä≠·ÄØ·Ä∏', image: '' },
        { id: 13, name: '·ÄÅ·Äº·Ä±·Äë·Ä±·Ä¨·ÄÄ·Ä∫(CP)', price: 700, category: '·Ä°·Äõ·Ä≠·ÄØ·Ä∏', image: '' },
        { id: 14, name: '·Äú·ÄÄ·Ä∫·Äô·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·ÄØ·Ä∂·Ä∏', price: 1000, category: '·Ä°·Äû·Ä¨·Ä∏', image: '' },
        { id: 15, name: '·Ä°·ÄÜ·ÄÆ·Äï·Ä∞·Ä∏', price: 800, category: '·Ä°·Äõ·Ä±·ÄÅ·ÄΩ·Ä∂', image: 'https://i.ibb.co/PGcW9j6r/1767118749960.png' },
        { id: 16, name: '·Ä°·Äû·Ä¨·Ä∏·Äê·ÄØ', price: 400, category: '·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äõ·ÄΩ·ÄÄ·Ä∫', image: 'https://i.ibb.co/hpPRPDr/1768208099763.png' },
        { id: 17, name: '·Äõ·ÄØ·Ä∂·Ä∏·Äï·Äê·Ä±·Äû·ÄÆ·Ä∏', price: 300, category: '·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äõ·ÄΩ·ÄÄ·Ä∫', image: 'https://i.ibb.co/cSCzCKN5/1768228376693.png' },
        { id: 18, name: '·Ä°·Äï·Ä∫·Äô·Äæ·Ä≠·ÄØ', price: 1000, category: '·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äõ·ÄΩ·ÄÄ·Ä∫', image: 'https://i.ibb.co/PsGSSTK4/1768228089572.png' },
        { id: 19, name: '·ÄÑ·ÄØ·Ä∂·Ä∏·Ä•', price: 1000, category: '·Ä•', image: 'https://i.ibb.co/xtyy8V0N/1768211447515.png' }
    ];

    let cart = {};
    let activeCat = 'All', chosenDay = 'today';

    function renderMenu() {
        const q = document.getElementById('searchInput').value.toLowerCase();
        const grid = document.getElementById('grid-box');
        const items = menuData.filter(i => (activeCat === 'All' || i.category === activeCat) && i.name.toLowerCase().includes(q));
        grid.innerHTML = items.map(i => `
            <div class="card">
                <img src="${i.image || 'https://via.placeholder.com/150'}" class="card-img">
                <div class="card-info">
                    <span class="item-name">${i.name}</span>
                    <span class="item-price">${i.price} Ks</span>
                    <button class="btn-add" onclick="addToCart(${i.id})">+ ·Äë·Ää·Ä∑·Ä∫·Äô·Ää·Ä∫</button>
                </div>
            </div>`).join('');
    }

    function filterCat(c, el) {
        activeCat = c;
        document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
        renderMenu();
    }

    function addToCart(id) { cart[id] = (cart[id] || 0) + 1; updateFloatingBar(); }
    function updateFloatingBar() {
        let t = 0;
        for (let id in cart) t += cart[id] * menuData.find(m => m.id == id).price;
        document.getElementById('cart-bar').style.display = t > 0 ? 'flex' : 'none';
        document.getElementById('bar-total').innerText = t.toLocaleString();
    }

    function openCart() {
        const list = document.getElementById('cart-list');
        let html = '', total = 0, count = 0;
        for (let id in cart) {
            const item = menuData.find(m => m.id == id);
            total += item.price * cart[id];
            count++;
            html += `
            <div class="cart-item">
                <img src="${item.image || 'https://via.placeholder.com/50'}" class="cart-item-img">
                <div class="cart-item-info">
                    <b>${item.name}</b>
                    <span>${item.price.toLocaleString()} Ks</span>
                </div>
                <div style="display:flex; align-items:center; gap:8px;">
                    <div class="qty-group">
                        <button class="btn-q" onclick="changeQty(${id}, -1)">-</button>
                        <input type="number" class="val-q" value="${cart[id]}" onchange="manualQty(${id}, this.value)">
                        <button class="btn-q" onclick="changeQty(${id}, 1)">+</button>
                    </div>
                    <button class="btn-del" onclick="removeItem(${id})"><i class="fa-regular fa-trash-can"></i></button>
                </div>
            </div>`;
        }
        document.getElementById('item-count-badge').innerText = count + " ·Äô·Äª·Ä≠·ÄØ·Ä∏";
        list.innerHTML = html + `<div style="text-align:right; padding:20px 0 10px; font-weight:800; font-size:16px;">·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏ - <span style="color:var(--accent)">${total.toLocaleString()}</span> Ks</div>`;
        document.getElementById('cart-sheet').style.display = 'block';
        document.getElementById('form-box').style.display = 'none';
        document.getElementById('cart-list').style.display = 'block';
        document.getElementById('next-btn').style.display = 'block';
        document.getElementById('modal-title').innerText = "·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏";
        document.getElementById('modal-back').onclick = () => document.getElementById('cart-sheet').style.display = 'none';
    }

    function removeItem(id) { delete cart[id]; if (Object.keys(cart).length === 0) document.getElementById('cart-sheet').style.display = 'none'; else openCart(); updateFloatingBar(); }
    function changeQty(id, d) { cart[id] += d; if (cart[id] <= 0) delete cart[id]; if (Object.keys(cart).length === 0) document.getElementById('cart-sheet').style.display = 'none'; else openCart(); updateFloatingBar(); }
    function manualQty(id, v) { let n = parseInt(v); if (n <= 0 || isNaN(n)) delete cart[id]; else cart[id] = n; if (Object.keys(cart).length === 0) document.getElementById('cart-sheet').style.display = 'none'; else openCart(); updateFloatingBar(); }
    
    function selectDate(day) { chosenDay = day; document.getElementById('chip-today').classList.toggle('active', day === 'today'); document.getElementById('chip-other').classList.toggle('active', day === 'other'); document.getElementById('custom-date-row').style.display = day === 'other' ? 'block' : 'none'; }
    function myPop(m) { document.getElementById('alert-msg').innerText = m; document.getElementById('alert-bg').style.display = 'block'; document.getElementById('alert-pop').style.display = 'block'; }
    function closeAlert() { document.getElementById('alert-bg').style.display = 'none'; document.getElementById('alert-pop').style.display = 'none'; }
    
    function step2() { 
        document.getElementById('cart-list').style.display = 'none'; 
        document.getElementById('form-box').style.display = 'block'; 
        document.getElementById('next-btn').style.display = 'none'; 
        document.getElementById('modal-title').innerText = "·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´"; 
        document.getElementById('modal-back').onclick = openCart; 
    }

    async function sendOrder(via) {
        const name = document.getElementById('in-name').value;
        const phone = document.getElementById('in-phone').value;
        const time = document.getElementById('in-time').value;
        const otherDate = document.getElementById('in-date').value;
        if(!name || !phone || !time) return myPop("·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äê·ÄΩ·Ä± ·Äï·Äº·Ää·Ä∑·Ä∫·ÄÖ·ÄØ·Ä∂·Ä°·Ä±·Ä¨·ÄÑ·Ä∫ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä±·Ä∏·Äï·Ä´ ‚ú®");

        let dayStr = chosenDay === 'today' ? "·Äí·ÄÆ·Äî·Ä±·Ä∑ (Today)" : otherDate;
        let items = [];
        for(let id in cart) {
            const i = menuData.find(m => m.id == id);
            items.push(`‚ñ™Ô∏è ${i.name} (${cart[id]} ·ÄÅ·ÄØ)`);
        }
        const total = document.getElementById('bar-total').innerText;
        const msg = `üçó *·Äô·Äº·ÄÑ·Ä∫·Äû·Ä¨·ÄÄ·Äº·ÄÄ·Ä∫·ÄÄ·ÄÑ·Ä∫ - ·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´*\nüë§ *·Ä°·Äô·Ää·Ä∫:* ${name}\nüìû *·Äñ·ÄØ·Äî·Ä∫·Ä∏:* ${phone}\nüìÖ *·Äî·Ä±·Ä∑·Äõ·ÄÄ·Ä∫:* ${dayStr}\nüïí *·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫:* ${time}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n${items.join('\n')}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüí∞ *·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏:* *${total} MMK*\n\nüõí *·Äï·Äº·Äî·Ä∫·Äú·Ää·Ä∫·Äô·Äæ·Ä¨·Äö·Ä∞·Äõ·Äî·Ä∫*\n${WEB_LINK}`;

        try {
            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: CHAT_ID, text: msg, parse_mode: 'Markdown' })
            });

            if(via === 'viber') {
                navigator.clipboard.writeText(msg).then(() => {
                    myPop("Copy ·ÄÄ·Ä∞·Ä∏·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã Viber ·Äô·Äæ·Ä¨ Paste ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä±·Ä∏·Äï·Ä´!");
                    setTimeout(() => { window.location.href = `viber://chat?number=%2B${MY_PHONE}`; }, 1200);
                });
            } else {
                window.location.href = `https://t.me/+${MY_PHONE}?text=${encodeURIComponent(msg)}`;
            }
            cart = {}; updateFloatingBar(); document.getElementById('cart-sheet').style.display = 'none';
        } catch (e) { myPop("Error! Bot ·ÄÜ·ÄÆ·Äû·Ä≠·ÄØ·Ä∑ ·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Äï·Ä≠·ÄØ·Ä∑·Äô·Äõ·Äï·Ä´·Åã"); }
    }

    window.onload = renderMenu;
</script>
</body>
</html>
